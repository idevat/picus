{{#with (changeset model.formData model.ResourceValidations) as |changeset|}}

{{#form-for changeset submit=(route-action 'onSubmitAction' model.selectedAgent) as |f|}}
  {{f.text-field 'resourceName' label='Resource Name' hint='small help'}}
  {{f.select-field 'resourceProvider' model.availableAgents._providers label='Class/Providers' update=(route-action 'changeSelectedProvider')}}
  {{f.select-field 'resourceAgent' (get model.availableAgents model.selectedProvider) label='Resource Agent' update=(route-action 'changeSelectedAgent')}}
  {{model.metadata.shortdesc}}
  <hr />
  {{f.checkbox-field 'clone' label="Clone"}}
  {{f.checkbox-field 'masterslave' label="Master/Slave"}}
  <hr />
  {{agent-properties-form metadata=model.metadata form=f levels=(array 'basic' 'advanced' 'expert')}}
  {{f.submit "Create" disabled=changeset.isInvalid}}
{{/form-for}}

{{/with}}
